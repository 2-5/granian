# Granian benchmarks



## Concurrency

Run at: Thu 02 May 2024, 15:14    
Environment: Linux x86 (CPUs: 32)    
Python version: 3.11    
Granian version: 1.3.1    

### ASGI

| Mode | Processes | Threads | Blocking Threads | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- | --- | --- | --- |
| workers (c2048) | 1 | 1 | 1 | 519272 | 34870 | 58.397ms | 320.528ms |
| runtime (c256) | 1 | 1 | 1 | 442336 | 29518 | 8.651ms | 53.649ms |
| workers (c512) | 1 | 2 | 1 | 403242 | 26934 | 18.943ms | 80.055ms |
| runtime (c1024) | 1 | 2 | 1 | 361577 | 24194 | 42.201ms | 175.813ms |
| workers (c256) | 1 | 4 | 1 | 372832 | 24890 | 10.261ms | 51.766ms |
| runtime (c2048) | 1 | 4 | 1 | 307199 | 20617 | 98.734ms | 401.573ms |
| workers (c256) | 2 | 1 | 1 | 743459 | 49630 | 5.149ms | 44.685ms |
| runtime (c2048) | 2 | 1 | 1 | 568470 | 38184 | 53.076ms | 416.676ms |
| workers (c512) | 2 | 2 | 1 | 739566 | 49398 | 10.329ms | 79.187ms |
| runtime (c1024) | 2 | 2 | 1 | 631606 | 42252 | 24.13ms | 140.698ms |
| workers (c2048) | 2 | 4 | 1 | 632245 | 42491 | 47.516ms | 428.132ms |
| runtime (c1024) | 2 | 4 | 1 | 601063 | 40240 | 25.369ms | 187.914ms |
| **workers (c256)** | **13** | **1** | **1** | **842299** | **56240** | **4.54ms** | **58.646ms** |
| **runtime (c1024)** | **13** | **1** | **1** | **811921** | **54427** | **18.72ms** | **184.769ms** |
| workers (c1024) | 13 | 2 | 1 | 741344 | 49830 | 20.36ms | 244.3ms |
| runtime (c512) | 13 | 2 | 1 | 807055 | 54001 | 9.45ms | 126.088ms |
| workers (c2048) | 13 | 4 | 1 | 650461 | 44310 | 45.295ms | 690.107ms |
| runtime (c256) | 13 | 4 | 1 | 703217 | 46936 | 5.44ms | 46.798ms |
| workers (c512) | 16 | 1 | 1 | 820402 | 54882 | 9.294ms | 107.542ms |
| runtime (c256) | 16 | 1 | 1 | 798872 | 53342 | 4.784ms | 62.976ms |
| workers (c256) | 16 | 2 | 1 | 777701 | 51985 | 4.908ms | 72.478ms |
| runtime (c512) | 16 | 2 | 1 | 733717 | 49083 | 10.391ms | 126.203ms |
| workers (c2048) | 16 | 4 | 1 | 715890 | 48860 | 41.126ms | 729.622ms |
| runtime (c512) | 16 | 4 | 1 | 724995 | 48523 | 10.499ms | 133.028ms |
| workers (c1024) | 32 | 1 | 1 | 778688 | 52367 | 19.393ms | 357.441ms |
| runtime (c512) | 32 | 1 | 1 | 729879 | 48860 | 10.431ms | 138.073ms |
| workers (c1024) | 32 | 2 | 1 | 640557 | 43247 | 23.43ms | 389.194ms |
| runtime (c512) | 32 | 2 | 1 | 762810 | 51058 | 9.982ms | 183.635ms |
| workers (c2048) | 32 | 4 | 1 | 590095 | 41083 | 48.43ms | 1326.663ms |
| runtime (c1024) | 32 | 4 | 1 | 746806 | 50171 | 20.248ms | 257.69ms |

### RSGI

| Mode | Processes | Threads | Blocking Threads | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- | --- | --- | --- |
| workers (c256) | 1 | 1 | 1 | 824738 | 55039 | 4.642ms | 43.086ms |
| runtime (c256) | 1 | 1 | 1 | 484495 | 32336 | 7.897ms | 48.724ms |
| workers (c512) | 1 | 2 | 1 | 733186 | 48989 | 10.416ms | 88.376ms |
| runtime (c256) | 1 | 2 | 1 | 415612 | 27732 | 9.211ms | 42.746ms |
| workers (c256) | 1 | 4 | 1 | 663856 | 44305 | 5.765ms | 44.981ms |
| runtime (c2048) | 1 | 4 | 1 | 392387 | 26366 | 77.062ms | 295.586ms |
| workers (c512) | 2 | 1 | 1 | 748496 | 50021 | 10.2ms | 98.21ms |
| runtime (c512) | 2 | 1 | 1 | 763685 | 51006 | 10.008ms | 86.454ms |
| workers (c256) | 2 | 2 | 1 | 733683 | 48970 | 5.216ms | 48.829ms |
| **runtime (c2048)** | **2** | **2** | **1** | **782293** | **52454** | **38.777ms** | **560.75ms** |
| workers (c512) | 2 | 4 | 1 | 686730 | 45917 | 11.099ms | 142.607ms |
| runtime (c512) | 2 | 4 | 1 | 701493 | 46861 | 10.896ms | 76.42ms |
| workers (c256) | 13 | 1 | 1 | 842346 | 56250 | 4.539ms | 55.826ms |
| runtime (c512) | 13 | 1 | 1 | 742580 | 49669 | 10.278ms | 109.01ms |
| workers (c512) | 13 | 2 | 1 | 723599 | 48451 | 10.516ms | 129.089ms |
| runtime (c256) | 13 | 2 | 1 | 760136 | 50752 | 5.031ms | 56.954ms |
| workers (c2048) | 13 | 4 | 1 | 699011 | 47482 | 42.361ms | 657.163ms |
| runtime (c256) | 13 | 4 | 1 | 735971 | 49142 | 5.193ms | 69.483ms |
| **workers (c256)** | **16** | **1** | **1** | **858927** | **57352** | **4.451ms** | **61.475ms** |
| runtime (c512) | 16 | 1 | 1 | 744933 | 49823 | 10.24ms | 116.236ms |
| workers (c512) | 16 | 2 | 1 | 753452 | 50458 | 10.103ms | 143.713ms |
| runtime (c512) | 16 | 2 | 1 | 759868 | 50820 | 10.039ms | 118.273ms |
| workers (c1024) | 16 | 4 | 1 | 800936 | 54033 | 18.758ms | 520.387ms |
| runtime (c512) | 16 | 4 | 1 | 735498 | 49189 | 10.369ms | 105.573ms |
| workers (c1024) | 32 | 1 | 1 | 802196 | 53927 | 18.832ms | 318.111ms |
| runtime (c256) | 32 | 1 | 1 | 754457 | 50422 | 5.061ms | 70.829ms |
| workers (c2048) | 32 | 2 | 1 | 709544 | 48262 | 41.654ms | 676.757ms |
| runtime (c256) | 32 | 2 | 1 | 755121 | 50478 | 5.053ms | 78.959ms |
| workers (c512) | 32 | 4 | 1 | 725714 | 48914 | 10.369ms | 316.425ms |
| runtime (c256) | 32 | 4 | 1 | 752102 | 50252 | 5.075ms | 90.11ms |

### WSGI

| Mode | Processes | Threads | Blocking Threads | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- | --- | --- | --- |
| workers (c256) | 1 | 1 | 1 | 526283 | 35127 | 7.274ms | 42.557ms |
| runtime (c256) | 1 | 1 | 1 | 644312 | 42993 | 5.942ms | 43.861ms |
| workers (c256) | 1 | 1 | 2 | 459862 | 30692 | 8.32ms | 48.898ms |
| runtime (c2048) | 1 | 1 | 2 | 539991 | 36329 | 55.99ms | 350.59ms |
| workers (c2048) | 1 | 1 | 4 | 451423 | 30384 | 66.819ms | 342.093ms |
| runtime (c2048) | 1 | 1 | 4 | 425692 | 28644 | 70.895ms | 346.341ms |
| workers (c256) | 1 | 2 | 1 | 516350 | 34453 | 7.411ms | 145.571ms |
| runtime (c512) | 1 | 2 | 1 | 546163 | 36479 | 13.994ms | 82.459ms |
| workers (c2048) | 1 | 4 | 1 | 417487 | 28007 | 71.701ms | 1966.516ms |
| runtime (c2048) | 1 | 4 | 1 | 450423 | 30231 | 67.332ms | 320.643ms |
| workers (c256) | 2 | 1 | 1 | 798109 | 53291 | 4.795ms | 44.41ms |
| runtime (c256) | 2 | 1 | 1 | 744966 | 49726 | 5.137ms | 46.311ms |
| workers (c512) | 2 | 1 | 2 | 720930 | 48166 | 10.595ms | 85.65ms |
| runtime (c256) | 2 | 1 | 2 | 783837 | 52308 | 4.883ms | 44.634ms |
| workers (c256) | 2 | 1 | 4 | 720611 | 48090 | 5.31ms | 74.947ms |
| runtime (c512) | 2 | 1 | 4 | 787492 | 52606 | 9.697ms | 125.135ms |
| workers (c256) | 2 | 2 | 1 | 732112 | 48858 | 5.227ms | 56.304ms |
| runtime (c256) | 2 | 2 | 1 | 745406 | 49791 | 5.132ms | 47.831ms |
| workers (c512) | 2 | 4 | 1 | 752004 | 50259 | 10.084ms | 1133.532ms |
| runtime (c256) | 2 | 4 | 1 | 740485 | 49413 | 5.172ms | 39.56ms |
| **workers (c256)** | **13** | **1** | **1** | **845757** | **56483** | **4.519ms** | **61.427ms** |
| runtime (c256) | 13 | 1 | 1 | 748026 | 49977 | 5.109ms | 53.595ms |
| workers (c256) | 13 | 1 | 2 | 755711 | 50456 | 5.059ms | 60.486ms |
| runtime (c512) | 13 | 1 | 2 | 776184 | 51920 | 9.825ms | 106.106ms |
| workers (c256) | 13 | 1 | 4 | 745609 | 49779 | 5.128ms | 90.978ms |
| runtime (c256) | 13 | 1 | 4 | 732155 | 48864 | 5.229ms | 73.263ms |
| workers (c512) | 13 | 2 | 1 | 764242 | 51181 | 9.957ms | 133.133ms |
| runtime (c256) | 13 | 2 | 1 | 728477 | 48628 | 5.25ms | 58.063ms |
| workers (c2048) | 13 | 4 | 1 | 725104 | 49376 | 40.673ms | 661.66ms |
| runtime (c256) | 13 | 4 | 1 | 713942 | 47662 | 5.356ms | 56.401ms |
| workers (c256) | 16 | 1 | 1 | 739254 | 49350 | 5.175ms | 50.536ms |
| runtime (c512) | 16 | 1 | 1 | 707260 | 47271 | 10.801ms | 95.851ms |
| workers (c256) | 16 | 1 | 2 | 731628 | 48854 | 5.226ms | 57.612ms |
| runtime (c512) | 16 | 1 | 2 | 776833 | 51964 | 9.814ms | 118.681ms |
| workers (c256) | 16 | 1 | 4 | 742318 | 49562 | 5.15ms | 167.514ms |
| runtime (c256) | 16 | 1 | 4 | 768270 | 51301 | 4.975ms | 67.716ms |
| workers (c512) | 16 | 2 | 1 | 717420 | 48048 | 10.572ms | 318.952ms |
| runtime (c512) | 16 | 2 | 1 | 758218 | 50699 | 10.059ms | 109.349ms |
| workers (c512) | 16 | 4 | 1 | 671202 | 45066 | 11.275ms | 399.207ms |
| runtime (c256) | 16 | 4 | 1 | 719017 | 48002 | 5.318ms | 62.615ms |
| workers (c256) | 32 | 1 | 1 | 795655 | 53163 | 4.799ms | 73.038ms |
| **runtime (c256)** | **32** | **1** | **1** | **831560** | **55567** | **4.592ms** | **68.642ms** |
| workers (c512) | 32 | 1 | 2 | 743945 | 49810 | 10.232ms | 134.571ms |
| runtime (c1024) | 32 | 1 | 2 | 738842 | 49659 | 20.478ms | 260.874ms |
| workers (c256) | 32 | 1 | 4 | 704981 | 47123 | 5.413ms | 103.513ms |
| runtime (c512) | 32 | 1 | 4 | 770904 | 51636 | 9.87ms | 134.632ms |
| workers (c1024) | 32 | 2 | 1 | 797566 | 53825 | 18.122ms | 1546.037ms |
| runtime (c256) | 32 | 2 | 1 | 736129 | 49211 | 5.182ms | 88.841ms |
| workers (c2048) | 32 | 4 | 1 | 642140 | 44590 | 44.592ms | 1211.525ms |
| runtime (c512) | 32 | 4 | 1 | 709903 | 47529 | 10.72ms | 139.391ms |

