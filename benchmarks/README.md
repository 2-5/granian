# Granian benchmarks

Run at: 2024-01-21T20:23:00.866656

CPUs: 10
Python version: 3.11

## RSGI response types

| Type | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| bytes small (c80) | 1418417 | 93930 | 0.842ms | 4.176ms |
| str small (c80) | 1419717 | 94015 | 0.841ms | 5.551ms |
| bytes big (c80) | 762922 | 50523 | 1.571ms | 6.97ms |
| str big (c80) | 759891 | 50321 | 1.577ms | 6.439ms |


## Interfaces

| Request | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| RSGI bytes (c80) | 1402674 | 93503 | 0.846ms | 5.541ms |
| RSGI str (c80) | 1408816 | 93292 | 0.848ms | 3.701ms |
| RSGI echo (c160) | 1089856 | 72168 | 2.192ms | 11.891ms |
| ASGI bytes (c320) | 1296407 | 85824 | 3.711ms | 18.929ms |
| ASGI str (c320) | 1281778 | 84858 | 3.754ms | 19.136ms |
| ASGI echo (c320) | 881429 | 58718 | 5.431ms | 17.591ms |
| WSGI bytes (c80) | 1467296 | 97166 | 0.814ms | 3.382ms |
| WSGI str (c80) | 1471722 | 97455 | 0.812ms | 4.696ms |
| WSGI echo (c80) | 1346643 | 89174 | 0.889ms | 5.676ms |


## vs 3rd parties

### async

| Mode | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| Granian Asgi [GET] (c320) | 1298022 | 85931 | 3.706ms | 18.79ms |
| Granian Asgi [POST] (c160) | 885538 | 59004 | 2.702ms | 8.657ms |
| Granian Rsgi [GET] (c80) | 1412340 | 93532 | 0.841ms | 5.329ms |
| Granian Rsgi [POST] (c160) | 1071205 | 71398 | 2.227ms | 10.701ms |
| Uvicorn H11 [GET] (c160) | 297291 | 19751 | 8.773ms | 320.937ms |
| Uvicorn H11 [POST] (c160) | 254897 | 16921 | 10.339ms | 374.895ms |
| Uvicorn Httptools [GET] (c160) | 1039013 | 68797 | 2.348ms | 81.833ms |
| Uvicorn Httptools [POST] (c160) | 961422 | 63662 | 2.538ms | 86.778ms |
| Hypercorn [GET] (c160) | 189568 | 12615 | 12.768ms | 147.602ms |
| Hypercorn [POST] (c160) | 169407 | 11273 | 14.292ms | 158.032ms |

### sync

| Mode | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| Granian Wsgi [GET] (c80) | 1474622 | 97653 | 0.811ms | 5.334ms |
| Granian Wsgi [POST] (c80) | 1355264 | 89745 | 0.882ms | 6.054ms |
| Gunicorn (gthread) [GET] (c80) | 47387 | 3153 | 25.33ms | 69.942ms |
| Gunicorn (gthread) [POST] (c80) | 46462 | 3091 | 25.845ms | 70.529ms |



## Concurrency

### ASGI

| Concurrency | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| P1 T1 wth (c320) | 1287980 | 85265 | 3.731ms | 18.483ms |
| P1 T1 rth (c80) | 820121 | 54634 | 1.449ms | 5.955ms |
| P1 T2 wth (c80) | 1194213 | 79609 | 1.005ms | 4.674ms |
| P1 T2 rth (c80) | 994359 | 65851 | 1.195ms | 5.343ms |
| P1 T4 wth (c80) | 1023297 | 68217 | 1.181ms | 5.588ms |
| P1 T4 rth (c80) | 1088202 | 72059 | 1.102ms | 6.186ms |
| P2 T1 wth (c640) | 2273217 | 151431 | 4.139ms | 24.973ms |
| P2 T1 rth (c80) | 1405862 | 93104 | 0.84ms | 4.413ms |
| P2 T2 wth (c640) | 2024558 | 134872 | 4.617ms | 23.8ms |
| P2 T2 rth (c80) | 1128951 | 74761 | 1.05ms | 7.769ms |
| P2 T4 wth (c160) | 1460595 | 96711 | 1.644ms | 10.529ms |
| P2 T4 rth (c80) | 1055896 | 69911 | 1.134ms | 32.452ms |
| P4 T1 wth (c640) | 2328158 | 154847 | 3.717ms | 23.329ms |
| P4 T1 rth (c80) | 1668614 | 110481 | 0.733ms | 64.146ms |
| P4 T2 wth (c640) | 2189992 | 145293 | 4.643ms | 135.036ms |
| P4 T2 rth (c320) | 1816895 | 121072 | 2.551ms | 22.822ms |
| P4 T4 wth (c80) | 1433766 | 94949 | 1.815ms | 126.716ms |
| P4 T4 rth (c640) | 1944656 | 129244 | 4.537ms | 34.799ms |
| P5 T1 wth (c640) | 2310174 | 153589 | 3.928ms | 31.073ms |
| P5 T1 rth (c160) | 1877082 | 124298 | 1.25ms | 11.02ms |
| P5 T2 wth (c640) | 2134209 | 141461 | 5.194ms | 121.243ms |
| P5 T2 rth (c640) | 2169783 | 143837 | 3.777ms | 48.933ms |
| P5 T4 wth (c80) | 1493572 | 98914 | 1.314ms | 113.243ms |
| P5 T4 rth (c640) | 2069597 | 137099 | 3.963ms | 30.427ms |
| P10 T1 wth (c80) | 1432201 | 94937 | 13.718ms | 250.286ms |
| P10 T1 rth (c640) | 2035211 | 135073 | 6.092ms | 126.507ms |
| P10 T2 wth (c160) | 1385552 | 91945 | 19.857ms | 375.466ms |
| P10 T2 rth (c640) | 2115204 | 140500 | 4.079ms | 98.637ms |
| P10 T4 wth (c160) | 1365585 | 90519 | 15.509ms | 376.716ms |
| P10 T4 rth (c640) | 2037244 | 135042 | 3.932ms | 57.845ms |

### RSGI

| Concurrency | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| P1 T1 wth (c80) | 1415935 | 93768 | 0.84ms | 3.731ms |
| P1 T1 rth (c80) | 994232 | 65838 | 1.201ms | 5.248ms |
| P1 T2 wth (c640) | 2280674 | 150971 | 4.178ms | 18.786ms |
| P1 T2 rth (c80) | 1200439 | 79495 | 0.988ms | 5.197ms |
| P1 T4 wth (c80) | 1444096 | 95630 | 0.827ms | 11.236ms |
| P1 T4 rth (c80) | 1325706 | 87791 | 0.911ms | 5.334ms |
| P2 T1 wth (c320) | 2229176 | 148560 | 2.106ms | 13.589ms |
| P2 T1 rth (c80) | 1467237 | 97808 | 0.8ms | 5.374ms |
| P2 T2 wth (c640) | 2388308 | 159070 | 3.722ms | 24.547ms |
| P2 T2 rth (c80) | 1359098 | 90001 | 0.868ms | 2.934ms |
| P2 T4 wth (c640) | 2360054 | 156694 | 3.682ms | 39.407ms |
| P2 T4 rth (c320) | 1299972 | 86639 | 3.671ms | 19.058ms |
| P4 T1 wth (c320) | 2330887 | 155317 | 1.868ms | 15.473ms |
| P4 T1 rth (c320) | 1862467 | 124125 | 2.502ms | 16.614ms |
| P4 T2 wth (c640) | 2342023 | 155365 | 4.096ms | 66.053ms |
| P4 T2 rth (c320) | 2002395 | 133375 | 2.293ms | 39.097ms |
| P4 T4 wth (c640) | 2225342 | 147574 | 3.492ms | 73.412ms |
| P4 T4 rth (c640) | 2257366 | 149652 | 3.473ms | 96.515ms |
| P5 T1 wth (c640) | 2317454 | 154234 | 3.848ms | 25.833ms |
| P5 T1 rth (c320) | 2026182 | 135029 | 2.276ms | 14.692ms |
| P5 T2 wth (c640) | 2284850 | 151761 | 4.012ms | 86.435ms |
| P5 T2 rth (c640) | 2213203 | 146556 | 3.963ms | 66.311ms |
| P5 T4 wth (c640) | 2182103 | 144528 | 3.581ms | 68.28ms |
| P5 T4 rth (c640) | 2235783 | 148115 | 3.535ms | 55.023ms |
| P10 T1 wth (c640) | 2233134 | 148210 | 4.847ms | 135.135ms |
| P10 T1 rth (c640) | 2121674 | 140627 | 6.08ms | 135.731ms |
| P10 T2 wth (c640) | 2130681 | 141400 | 4.284ms | 103.762ms |
| P10 T2 rth (c640) | 2166817 | 143699 | 4.164ms | 66.492ms |
| P10 T4 wth (c80) | 1374139 | 91140 | 5.019ms | 250.375ms |
| P10 T4 rth (c640) | 2162249 | 143286 | 3.684ms | 105.288ms |

### WSGI

| Concurrency | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| P1 T1 wth (c80) | 1468050 | 97214 | 0.814ms | 5.756ms |
| P1 T1 rth (c80) | 1106653 | 73284 | 1.09ms | 4.613ms |
| P1 T2 wth (c80) | 1099875 | 72834 | 1.101ms | 4.1ms |
| P1 T2 rth (c640) | 916920 | 61082 | 11.233ms | 60.792ms |
| P1 T4 wth (c80) | 1034951 | 68536 | 1.205ms | 6.039ms |
| P1 T4 rth (c160) | 880059 | 58271 | 2.759ms | 10.969ms |
| P2 T1 wth (c160) | 2224303 | 147287 | 1.036ms | 8.929ms |
| P2 T1 rth (c80) | 1876040 | 124236 | 0.642ms | 4.636ms |
| P2 T2 wth (c640) | 2177838 | 144985 | 4.236ms | 24.497ms |
| P2 T2 rth (c640) | 1412706 | 94113 | 6.772ms | 26.762ms |
| P2 T4 wth (c640) | 1142309 | 75599 | 8.441ms | 38.559ms |
| P2 T4 rth (c160) | 1144316 | 75769 | 2.122ms | 46.776ms |
| P4 T1 wth (c640) | 2380733 | 158533 | 3.706ms | 24.909ms |
| P4 T1 rth (c320) | 2386386 | 157967 | 1.891ms | 14.077ms |
| P4 T2 wth (c640) | 2358221 | 156206 | 4.068ms | 66.932ms |
| P4 T2 rth (c640) | 2175931 | 144960 | 4.357ms | 37.604ms |
| P4 T4 wth (c80) | 1456209 | 96652 | 17.363ms | 316.029ms |
| P4 T4 rth (c640) | 2050875 | 136006 | 4.318ms | 41.499ms |
| P5 T1 wth (c320) | 2384641 | 158797 | 1.822ms | 17.156ms |
| P5 T1 rth (c160) | 2384195 | 157866 | 0.907ms | 9.537ms |
| P5 T2 wth (c640) | 2340711 | 155089 | 3.96ms | 73.407ms |
| P5 T2 rth (c640) | 2372974 | 157443 | 3.9ms | 55.377ms |
| P5 T4 wth (c80) | 1462256 | 96857 | 11.831ms | 375.147ms |
| P5 T4 rth (c640) | 2286766 | 151347 | 4.233ms | 78.857ms |
| P10 T1 wth (c640) | 2402632 | 159187 | 3.83ms | 51.698ms |
| P10 T1 rth (c320) | 2404643 | 159426 | 2.241ms | 95.545ms |
| P10 T2 wth (c640) | 2207034 | 146291 | 4.259ms | 118.6ms |
| P10 T2 rth (c640) | 2410672 | 160275 | 4.603ms | 127.792ms |
| P10 T4 wth (c80) | 1489191 | 98790 | 7.033ms | 261.325ms |
| P10 T4 rth (c320) | 2378691 | 157618 | 2.98ms | 71.242ms |
