# Granian benchmarks

Run at: 2023-10-29T16:02:22.110766

CPUs: 10
Python version: 3.11

## RSGI response types

| Type | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| bytes small (c80) | 1370298 | 90737 | 0.872ms | 5.075ms |
| str small (c80) | 1358298 | 89948 | 0.88ms | 4.718ms |
| bytes big (c80) | 739001 | 48936 | 1.623ms | 7.942ms |
| str big (c80) | 738245 | 48888 | 1.621ms | 8.21ms |


## Interfaces

| Request | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| RSGI bytes (c80) | 1360759 | 90110 | 0.878ms | 3.98ms |
| RSGI str (c80) | 1368030 | 90592 | 0.873ms | 5.369ms |
| RSGI echo (c640) | 1074906 | 71615 | 8.879ms | 26.682ms |
| ASGI bytes (c320) | 1325284 | 87734 | 3.629ms | 18.63ms |
| ASGI str (c160) | 1308064 | 86612 | 1.837ms | 9.429ms |
| ASGI echo (c160) | 883339 | 58861 | 2.707ms | 11.001ms |
| WSGI bytes (c80) | 1427488 | 94531 | 0.838ms | 5.463ms |
| WSGI str (c80) | 1432528 | 94863 | 0.835ms | 5.361ms |
| WSGI echo (c80) | 1331014 | 88139 | 0.899ms | 5.531ms |


## vs 3rd parties

### async

| Mode | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| Granian Asgi [GET] (c320) | 1318090 | 87839 | 3.624ms | 19.071ms |
| Granian Asgi [POST] (c160) | 891847 | 59421 | 2.682ms | 11.071ms |
| Granian Rsgi [GET] (c80) | 1363653 | 90301 | 0.876ms | 2.898ms |
| Granian Rsgi [POST] (c160) | 1090600 | 72692 | 2.187ms | 10.839ms |
| Uvicorn H11 [GET] (c160) | 292546 | 19437 | 8.948ms | 345.54ms |
| Uvicorn H11 [POST] (c160) | 253412 | 16830 | 10.421ms | 396.765ms |
| Uvicorn Httptools [GET] (c160) | 1023264 | 67750 | 2.387ms | 85.83ms |
| Uvicorn Httptools [POST] (c160) | 955521 | 63267 | 2.57ms | 98.119ms |
| Hypercorn [GET] (c160) | 187224 | 12452 | 12.929ms | 143.962ms |
| Hypercorn [POST] (c160) | 169299 | 11264 | 14.3ms | 158.573ms |

### sync

| Mode | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| Granian Wsgi [GET] (c80) | 1432476 | 94865 | 0.831ms | 5.216ms |
| Granian Wsgi [POST] (c80) | 1333823 | 88325 | 0.896ms | 5.267ms |
| Gunicorn [GET] (c80) | 371 | 24 | 5.196ms | 23.679ms |
| Gunicorn [POST] (c640) | 12694 | 841 | 57.501ms | 949.514ms |



## Concurrency

### ASGI

| Concurrency | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| P1 T1 wth (c320) | 1345427 | 89063 | 3.574ms | 18.536ms |
| P1 T1 rth (c80) | 847538 | 56467 | 1.4ms | 5.382ms |
| P1 T2 wth (c80) | 1128137 | 74706 | 1.068ms | 4.748ms |
| P1 T2 rth (c80) | 848322 | 56171 | 1.409ms | 8.073ms |
| P1 T4 wth (c80) | 832560 | 55134 | 1.448ms | 10.377ms |
| P1 T4 rth (c80) | 1110881 | 73562 | 1.079ms | 8.025ms |
| P2 T1 wth (c640) | 2240762 | 149271 | 4.204ms | 23.418ms |
| P2 T1 rth (c80) | 1453760 | 96276 | 0.809ms | 4.654ms |
| P2 T2 wth (c320) | 1494963 | 98964 | 3.191ms | 16.407ms |
| P2 T2 rth (c80) | 1132934 | 75523 | 1.045ms | 8.539ms |
| P2 T4 wth (c640) | 969327 | 64156 | 9.851ms | 23.177ms |
| P2 T4 rth (c80) | 1058508 | 70098 | 1.135ms | 24.362ms |
| P4 T1 wth (c640) | 2336680 | 155237 | 3.719ms | 38.684ms |
| P4 T1 rth (c160) | 1639885 | 109307 | 1.431ms | 15.076ms |
| P4 T2 wth (c640) | 2005534 | 132888 | 5.156ms | 132.488ms |
| P4 T2 rth (c320) | 1814493 | 120894 | 2.549ms | 16.92ms |
| P4 T4 wth (c640) | 1459344 | 97003 | 6.894ms | 170.665ms |
| P4 T4 rth (c640) | 1952452 | 129641 | 4.511ms | 39.349ms |
| P5 T1 wth (c640) | 2314046 | 153824 | 3.836ms | 38.528ms |
| P5 T1 rth (c320) | 1821473 | 121383 | 2.56ms | 18.797ms |
| P5 T2 wth (c80) | 1378193 | 91255 | 2.809ms | 143.23ms |
| P5 T2 rth (c640) | 2150367 | 142433 | 3.831ms | 40.0ms |
| P5 T4 wth (c320) | 1370980 | 90783 | 5.574ms | 218.189ms |
| P5 T4 rth (c640) | 2090706 | 138575 | 3.798ms | 41.551ms |
| P10 T1 wth (c80) | 1432986 | 94957 | 12.468ms | 270.962ms |
| P10 T1 rth (c640) | 2032144 | 134560 | 6.293ms | 123.16ms |
| P10 T2 wth (c160) | 1309727 | 86747 | 20.553ms | 375.7ms |
| P10 T2 rth (c640) | 2094486 | 138856 | 4.181ms | 80.712ms |
| P10 T4 wth (c320) | 1339783 | 89145 | 13.08ms | 409.847ms |
| P10 T4 rth (c640) | 2047747 | 135677 | 4.042ms | 114.11ms |

### RSGI

| Concurrency | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| P1 T1 wth (c80) | 1352074 | 89531 | 0.884ms | 5.71ms |
| P1 T1 rth (c320) | 951876 | 63391 | 5.024ms | 18.514ms |
| P1 T2 wth (c80) | 1429437 | 94663 | 0.819ms | 4.868ms |
| P1 T2 rth (c80) | 1170545 | 78030 | 1.01ms | 5.876ms |
| P1 T4 wth (c320) | 1509627 | 99919 | 3.13ms | 15.307ms |
| P1 T4 rth (c80) | 1412945 | 93565 | 0.853ms | 5.084ms |
| P2 T1 wth (c320) | 2180819 | 144377 | 2.168ms | 13.735ms |
| P2 T1 rth (c160) | 1330895 | 88701 | 1.775ms | 6.618ms |
| P2 T2 wth (c640) | 2358036 | 156988 | 3.756ms | 22.434ms |
| P2 T2 rth (c80) | 1325365 | 88335 | 0.9ms | 15.188ms |
| P2 T4 wth (c80) | 1341347 | 88811 | 0.873ms | 12.178ms |
| P2 T4 rth (c80) | 1316991 | 87214 | 0.905ms | 30.721ms |
| P4 T1 wth (c640) | 2319602 | 154469 | 3.831ms | 23.798ms |
| P4 T1 rth (c320) | 1795071 | 119621 | 2.598ms | 16.563ms |
| P4 T2 wth (c640) | 2235921 | 148160 | 4.357ms | 109.396ms |
| P4 T2 rth (c320) | 1975229 | 131520 | 2.338ms | 21.86ms |
| P4 T4 wth (c80) | 1438126 | 95330 | 1.356ms | 125.24ms |
| P4 T4 rth (c640) | 2258967 | 149564 | 3.486ms | 58.37ms |
| P5 T1 wth (c320) | 2319873 | 154322 | 1.884ms | 50.214ms |
| P5 T1 rth (c320) | 2009997 | 133951 | 2.315ms | 13.644ms |
| P5 T2 wth (c640) | 2172135 | 144109 | 4.113ms | 94.03ms |
| P5 T2 rth (c640) | 2178814 | 144229 | 4.025ms | 56.015ms |
| P5 T4 wth (c160) | 1485325 | 98488 | 3.85ms | 249.941ms |
| P5 T4 rth (c640) | 2224312 | 147418 | 3.573ms | 70.061ms |
| P10 T1 wth (c640) | 2226676 | 147593 | 4.694ms | 91.032ms |
| P10 T1 rth (c320) | 2094643 | 138803 | 3.008ms | 70.336ms |
| P10 T2 wth (c160) | 1474418 | 97934 | 16.054ms | 502.826ms |
| P10 T2 rth (c640) | 2172972 | 144026 | 4.155ms | 60.442ms |
| P10 T4 wth (c160) | 1429123 | 94603 | 9.101ms | 375.407ms |
| P10 T4 rth (c640) | 2143212 | 141991 | 3.992ms | 126.166ms |

### WSGI

| Concurrency | Total requests | RPS | avg latency | max latency |
| --- | --- | --- | --- | --- |
| P1 T1 wth (c80) | 1422374 | 94192 | 0.839ms | 4.739ms |
| P1 T1 rth (c80) | 1439874 | 95348 | 0.831ms | 5.013ms |
| P1 T2 wth (c80) | 1095144 | 72524 | 1.104ms | 5.312ms |
| P1 T2 rth (c80) | 1301704 | 86197 | 0.925ms | 4.681ms |
| P1 T4 wth (c80) | 1000034 | 66222 | 1.261ms | 18.833ms |
| P1 T4 rth (c80) | 1088682 | 72095 | 1.106ms | 14.55ms |
| P2 T1 wth (c320) | 2181208 | 144408 | 2.155ms | 16.989ms |
| P2 T1 rth (c320) | 2182799 | 144510 | 2.14ms | 16.829ms |
| P2 T2 wth (c640) | 1187093 | 79075 | 8.013ms | 27.458ms |
| P2 T2 rth (c640) | 2317169 | 154222 | 3.797ms | 22.19ms |
| P2 T4 wth (c80) | 948252 | 62780 | 1.574ms | 127.436ms |
| P2 T4 rth (c640) | 1481656 | 98597 | 6.212ms | 59.199ms |
| P4 T1 wth (c320) | 2403310 | 159089 | 1.815ms | 16.37ms |
| P4 T1 rth (c640) | 2403186 | 159883 | 3.604ms | 23.525ms |
| P4 T2 wth (c640) | 2177381 | 144211 | 5.02ms | 98.599ms |
| P4 T2 rth (c640) | 2342275 | 155201 | 3.43ms | 47.615ms |
| P4 T4 wth (c640) | 1502277 | 99618 | 7.075ms | 137.667ms |
| P4 T4 rth (c640) | 2046179 | 135526 | 3.905ms | 52.364ms |
| P5 T1 wth (c640) | 2389827 | 158914 | 3.652ms | 26.687ms |
| P5 T1 rth (c640) | 2401062 | 159526 | 3.638ms | 27.452ms |
| P5 T2 wth (c640) | 2114445 | 140031 | 4.784ms | 110.168ms |
| P5 T2 rth (c640) | 2282979 | 151250 | 3.591ms | 60.373ms |
| P5 T4 wth (c640) | 1508203 | 99908 | 7.088ms | 153.284ms |
| P5 T4 rth (c640) | 2012411 | 133202 | 3.985ms | 57.996ms |
| P10 T1 wth (c640) | 2399144 | 159119 | 3.852ms | 70.417ms |
| P10 T1 rth (c640) | 2406025 | 159364 | 3.695ms | 57.963ms |
| P10 T2 wth (c80) | 1440569 | 95400 | 6.374ms | 251.509ms |
| P10 T2 rth (c640) | 2084694 | 138350 | 3.996ms | 145.49ms |
| P10 T4 wth (c320) | 1446788 | 95928 | 4.424ms | 226.422ms |
| P10 T4 rth (c80) | 1336426 | 88821 | 4.287ms | 142.482ms |

